Upgrading BIGSdb versions
-------------------------
Occasionally a version upgrade may require a small change to the underlying
database structure.  These changes will be noted here and a SQL script to 
perform the change included.

To run the script 'script.sql' against database 'dbase', as the postgres user
type:

psql -f script.sql dbase

Version 1.2
-----------
This introduces the concept of defining an isolate database locus by its
context.  Here we can filter the genome to products of an in silico PCR
reaction or to regions within a defined distance of a matching probe.  Four
new tables are created:

pcr: describes the PCR conditions: primers sequences, allowed priming 
  mismatches and min/max product length
pcr_locus: links loci to any number of PCR reactions.  
probes: describes a nucleotide probe
probe_locus: links loci to a nucleotide probe and describes hybridization 
  thresholds.
Finally a modification of the loci table sets boolean flags to state whether
tag scanning of the locus should be limited only to the seqbin regions 
amplified by the simulated PCR reactions or to within the specified distance
of the probe sequence. 

Script: isolatedb_v1.2.sql

Version 1.3
-----------
There are minor changes to both the isolate and sequence definition database
structures.  

1) The primary key of the isolate database allele_sequences and sequence_flags
tables have been changed to include the stop position.
2) A new table has been added to the sequence definition database - 
'client_dbase_loci_fields' that enables fields within a client isolate database
to be returned following a sequence query, e.g. to identify a species from a
specific allele sequence.

Please run the following upgrade scripts against your databases
isolatedb_v1.3.sql against isolate databases.
seqdefdb_v1.3.sql against sequence definition databases.

Both scripts can be found in the sql/upgrade directory.
